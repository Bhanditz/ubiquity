<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <meta http-equiv="Content-type" content="text/html; charset=utf-8" />
  <link rel="stylesheet" type="text/css" media="all"
        href="web-content.css" />
  <link rel="shortcut icon" href="chrome://ubiquity/skin/icons/favicon.ico" type="image/x-icon" />
  <title>Ubiquity Settings and Skins</title>
  <style>
    .warning{ background-color: #FFFCBA; border: 1px solid #F09B9A; width: 740px; padding: 5px;}
  </style>
</head>
<body>
  <div class="head">Settings and Skins</div>

  <script type="text/javascript" src="prefkeys.js"></script>
  <script src="resource://ubiquity/scripts/jquery.js"></script>
  <script type="application/javascript;version=1.8"
          src="chrome://ubiquity/content/header.js"></script>
  <script type="application/javascript;version=1.8"
          src="settings.js"></script>
  <script type="application/javascript;version=1.8"
          src="prefkeys.js"></script>


  <div id="nav-container"></div>

  <br clear="all"/>
  <div style="text-align:center;">
    <p>You can get to this page at any time using the "change ubiquity settings" command.</p>
  </div>
  <br clear="all"/>

  <div class="col-five">
    <h2 class="top">Skins</h2>
    <ul id="skin-list"></ul>

    <ul class="button-list">
      <li>
        <a class="button" id="edit-button"
           onclick="openSkinEditor()">
           Edit Custom Skin</a>
      </li>
    </ul>
  </div>

  <div class="col-four">
    <h2 class="top">Key Combination</h2>
    <fieldset>
    <legend><strong>Invoke</strong> Ubiquity by pressing:</legend>
    <div style="margin-left:10px;">
      <p>
      <input id="keyInputBox" type="text" size="42"
             style="cursor:pointer"
             onkeydown="PrefKeys.onKeyChange(event)"
             onfocus="this.value = 'Press your combination'"
             onblur="PrefKeys.onLoad()"/><br/>
      Click above to <strong>Change</strong> the keyboard shortcut used to
      open/close Ubiquity. <br/></p>
    <p id="keyNotify"></p>
    </div>
    </fieldset>
    <script> PrefKeys.onLoad() </script>

    <h2>Language Settings</h2>
    <p>The Next Generation parser is experimental and will not work with all
    commands.  However, it supports multiple languages.</p>
    <p><input type="checkbox" id="use-new-parser-checkbox"
               onchange="changeLanguageSettings();">
    <strong>Use the Next Generation Parser</strong></p>
    <p><span id="lang-settings-changed-info"></span></p>
    <p>Language:
      <select id="language-select" disabled="true"
               onchange="changeLanguageSettings();">
      </select>
    </p>

    <h2>Usage Data</h2>
    <p>You can help Mozilla Labs to improve the Ubiquity user experience by sharing data about the commands you are using.  <a href="">Read the privacy policy</a> to find out exactly what data will be collected if you check the box below.</p>

      <input type="checkbox" id="allow-data-collection-checkbox"
              onchange="changeDataCollectionSettings();">
      <strong>Allow Ubiquity to send data to Mozilla about how it is being used</strong>

    <p></p>

    <h2>Troubleshooting Ubiquity</h2>
    <p>Due to Ubiquity's unusual nature as a Labs experiment, you may
    run into problems while using it.  If Ubiquity becomes completely
    unresponsive to you, then it may be necessary to reset it to its
    "factory defaults" in order to use it again.  To do this, click <a
    href="reset.html">here</a>&mdash;and our apologies for the
    inconvenience!</p>
  </div>

  <br clear="all"/>

  <div id="editor-div" style="display:none">
    <h2>Custom Skin Editor</h2>
    <ul class="button-list">
      <li>
        <a class="button" onclick="saveCustomSkin()">Save</a>
        <a class="button" onclick="saveAs()">Save As</a>
        <a class="button" onclick="pasteToGist()">Share</a>
      Clicking save immediately updates Ubiquity's look.
      </li>
      <br/><br/>
      <div class="warning">If you are using Windows, then any changes you make to a custom skin can only be seen after a browser restart. This is a <a href="http://ubiquity.mozilla.com/trac/ticket/449">known bug</a>.</div>
      <br/><br/>
      <li>
        <textarea rows="30" style="width:92%" id="skin-editor"></textarea>
      </li>
    </ul>
  </div>
</body>
</html>
